!function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):e[t]=n()}("Fingerprint",this,function(){"use strict";var t=function(t){var e,n;e=Array.prototype.forEach,n=Array.prototype.map,this.each=function(t,n,i){if(null!==t)if(e&&t.forEach===e)t.forEach(n,i);else if(t.length===+t.length){for(var a=0,r=t.length;r>a;a++)if(n.call(i,t[a],a,t)==={})return}else for(var o in t)if(t.hasOwnProperty(o)&&n.call(i,t[o],o,t)==={})return},this.map=function(t,e,i){var a=[];return null==t?a:n&&t.map===n?t.map(e,i):(this.each(t,function(t,n,r){a[a.length]=e.call(i,t,n,r)}),a)},"object"==typeof t?(this.hasher=t.hasher,this.screen_resolution=t.screen_resolution,this.canvas=t.canvas,this.ie_activex=t.ie_activex):"function"==typeof t&&(this.hasher=t)};return t.prototype={get:function(){var t=[];if(t.push(navigator.userAgent),t.push(navigator.language),t.push(screen.colorDepth),this.screen_resolution){var e=this.getScreenResolution();"undefined"!=typeof e&&t.push(this.getScreenResolution().join("x"))}return t.push((new Date).getTimezoneOffset()),t.push(this.hasSessionStorage()),t.push(this.hasLocalStorage()),t.push(!!window.indexedDB),t.push(document.body?typeof document.body.addBehavior:"undefined"),t.push(typeof window.openDatabase),t.push(navigator.cpuClass),t.push(navigator.platform),t.push(navigator.doNotTrack),t.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&t.push(this.getCanvasFingerprint()),this.hasher?this.hasher(t.join("###"),31):this.murmurhash3_32_gc(t.join("###"),31)},murmurhash3_32_gc:function(t,e){var n,i,a,r,o,s,l,u;for(n=3&t.length,i=t.length-n,a=e,o=3432918353,s=461845907,u=0;i>u;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295,a^=l,a=a<<13|a>>>19,r=5*(65535&a)+((5*(a>>>16)&65535)<<16)&4294967295,a=(65535&r)+27492+(((r>>>16)+58964&65535)<<16);switch(l=0,n){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:l^=255&t.charCodeAt(u),l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295,a^=l}return a^=t.length,a^=a>>>16,a=2246822507*(65535&a)+((2246822507*(a>>>16)&65535)<<16)&4294967295,a^=a>>>13,a=3266489909*(65535&a)+((3266489909*(a>>>16)&65535)<<16)&4294967295,a^=a>>>16,a>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(t){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},isCanvasSupported:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName?!0:"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?!0:!1},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(t){var e=this.map(t,function(t){return[t.type,t.suffixes].join("~")}).join(",");return[t.name,t.description,e].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){var t=["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"];return this.map(t,function(t){try{return new ActiveXObject(t),t}catch(e){return null}}).join(";")}return""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var t=document.createElement("canvas"),e=t.getContext("2d"),n="http://valve.github.io";return e.textBaseline="top",e.font="14px 'Arial'",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(n,4,17),t.toDataURL()}},t}),function($,t,e,n){"use strict";var i={elements:[],minHeight:0,percentage:!0,testing:!1},a=$(t),r=[];$.scrollDepth=function(n){function o(t,e,i){n.testing?$("#console").html(t+": "+e):"undefined"!=typeof dataLayer?(dataLayer.push({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:t,eventLabel:e,eventValue:1,eventNonInteraction:!0}),arguments.length>2&&dataLayer.push({event:"ScrollTiming",eventCategory:"Scroll Depth",eventAction:t,eventLabel:e,eventTiming:i})):("undefined"!=typeof ga&&(ga("send","event","Scroll Depth",t,e,1,{nonInteraction:1}),arguments.length>2&&ga("send","timing","Scroll Depth",t,i,e)),"undefined"!=typeof _gaq&&(_gaq.push(["_trackEvent","Scroll Depth",t,e,1,!0]),arguments.length>2&&_gaq.push(["_trackTiming","Scroll Depth",t,i,e,100])))}function s(t){return{"25%":parseInt(.25*t,10),"50%":parseInt(.5*t,10),"75%":parseInt(.75*t,10),"100%":t-1}}function l(t,e,n){$.each(t,function(t,i){-1===$.inArray(t,r)&&e>=i&&(o("Percentage",t,n),r.push(t))})}function u(t,e,n){$.each(t,function(t,i){-1===$.inArray(i,r)&&$(i).length&&e>=$(i).offset().top&&(o("Elements",i,n),r.push(i))})}function c(t,e){var n,i,a,r=null,o=0,s=function(){o=new Date,r=null,a=t.apply(n,i)};return function(){var l=new Date;o||(o=l);var u=e-(l-o);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,o=l,a=t.apply(n,i)):r||(r=setTimeout(s,u)),a}}var h=+new Date;n=$.extend({},i,n),$(e).height()<n.minHeight||(o("Percentage","Baseline"),a.on("scroll.scrollDepth",c(function(){var i=$(e).height(),o=t.innerHeight?t.innerHeight:a.height(),c=a.scrollTop()+o,p=s(i),g=+new Date-h;return r.length>=4+n.elements.length?void a.off("scroll.scrollDepth"):(n.elements&&u(n.elements,c,g),void(n.percentage&&l(p,c,g)))},500)))}}(jQuery,window,document),function(){var t=function(){function t(n){if(this.ga=this._getGA(),"undefined"!=typeof this.ga){if(this.opts=t.$.extend(e,n),"undefined"!=typeof this.opts.watch)for(var i=this.opts.watch.length-1;i>=0;i--)this.watch.apply(this,this.opts.watch[i]);this.pageName=this.opts.pageName,this.siteName=this.opts.siteName,this.trackLinks=t.$.proxy(this.trackLinks,this),this.push=t.$.proxy(this.push,this),this.watch=t.$.proxy(this.watch,this),this._onTrackedClick=t.$.proxy(this._onTrackedClick,this)}else console.warn("Google Analytics not found. Boba could not initialize.");return this}var e={pageName:"page",siteName:"site",defaultCategory:null,defaultAction:null,defaultLabel:null};return t.$=$||void 0,t.prototype={watch:function n(e,i,a){var r=function(t){this.push(a(t))};return t.$("body").on(e+".tracker",i,t.$.proxy(r,this)),this},trackLinks:function i(t){return t=t||".js-track",this.watch("click",t,this._onTrackedClick),this},push:function a(t){return t=[t.gaCategory||t.category||this.opts.defaultCategory,t.gaAction||t.action||this.opts.defaultAction,t.gaLabel||t.label||this.opts.defaultLabel,t.gaValue||t.value||null],this.ga.apply(null,t),this},_onTrackedClick:function r(e){return this.ga?t.$(e.currentTarget).data():void 0},_getGA:function o(){var t;return"undefined"!=typeof window.ga&&null!==window.ga?t=function e(){var t=Array.prototype.slice.call(arguments);t.unshift("send","event"),window.ga.apply(window,t)}:"undefined"!=typeof window._gaq&&null!==window._gaq&&(t=function n(){var t=Array.prototype.slice.call(arguments);t.unshift("_trackEvent"),window._gaq.push.apply(window,t)}),t}},t}();window.Boba=t}(),jQuery(function(){jQuery.scrollDepth()}),function($){$(document).ready(function(){var t=$("form").attr("id");$("form").find(":input").blur(function(){var e;e=this.value===this.defaultValue?"skipped":this.value?"completed":"skipped",this.type&&"submit"===this.type.toLowerCase()&&(e="submitted"),ga("send","event","form",e,t+"["+$(this).attr("name")+"]")})})}(jQuery);