
{% extends 'pumas/base.html' %}
<body>
 
 
{% load staticfiles %}
{% block content %}


<script>


/* Formatting function for row details - modify as you need */
function format ( d ) {
    return '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">'+
        '<tr>'+
            '<td>Full name:</td>'+
            '<td>'+d.name+'</td>'+
        '</tr>'+
        '<tr>'+
            '<td>Extension number:</td>'+
            '<td>'+d.extn+'</td>'+
        '</tr>'+
        '<tr>'+
            '<td>Extra info:</td>'+
            '<td>And any further details here (images etc)...</td>'+
        '</tr>'+
    '</table>';
}

	$(document).ready(function() {
	    var table = $('#example').DataTable();
	    
	  {% for year in past_five_years %}
			$("#{{ year }}").click(function() {
						var column = table.column( 5 );
						var val ="";
						
						if ($("#{{ year }}").is(":checked")) {
						
									val = $.fn.dataTable.util.escapeRegex(
													$("#{{ year }}").val()
																			
										);
									
									 {% for year in past_five_years %}
											if($("#{{ year }}").is(":checked")){
												val = val +"|"+$.fn.dataTable.util.escapeRegex(
													$("#{{ year }}").val()
												);
											}
									{% endfor %}
									column.search(val, true, false).draw();
					
						} 
						else {
									 {% for Checkedyear in past_five_years %}
												if($("#{{ Checkedyear }}").is(":checked")){
													val = val+"|"+$.fn.dataTable.util.escapeRegex(
														$("#{{ Checkedyear }}").val()
													);
												}
									{% endfor %}
									
									val=val.substring(1);
									column.search(val, true, false ).draw();
									
						}	
			});
		{% endfor %}
		
		{% for content_type in content_types %}
			$("#{{ content_type }}").click(function() {
			
						var column = table.column( 4 );
						var val ="";
			
						if ($("#{{ content_type }}").is(":checked")) {
									
									val = $.fn.dataTable.util.escapeRegex(
											$("#{{ content_type }}").val()
																
									);
									
									
									{% for content_type in content_types %}
										if($("#{{ content_type }}").is(":checked")){
											val = val +"|"+$.fn.dataTable.util.escapeRegex(
												$("#{{ content_type }}").val()
											);
										}
							 		{% endfor %}
									 column.search(val, true, false).draw();
					
						} else {
								 {% for content_type in content_types %}
										if($("#{{ content_type }}").is(":checked")){
												val = val+"|"+$.fn.dataTable.util.escapeRegex(
														$("#{{ content_type }}").val()
												);
										}
								{% endfor %}
									
									val=val.substring(1);
									column.search(val, true, false ).draw();
						}	
			});
		{% endfor %}
	
	
                        
	   $('#example tbody').on('click', 'td.details-control', function () {
	        var tr = $(this).closest('tr');
	        var row = table.row( tr );
	 
	        if ( row.child.isShown() ) {
	            // This row is already open - close it
	            row.child.hide();
	            tr.removeClass('shown');
	        }
	        else {
	            // Open this row
	            row.child( format(row.data()) ).show();
	            tr.addClass('shown');
	        }
	    } );
	} );
</script>

  <div class="panel-group">
     <div class="panel panel-default">
     <div class="panel-heading">Search Results</div>
     <div class="panel-body">
	    <div class="row">
	    
	    	<div class="col-md-3" style="margin-top:2.5%;">
			    <div class="panel panel-success">
			      <div class="panel-heading">Filter results</div>
			      <div class="panel-body">
					
					Years
					<br />
					<br />
					<form action="demo_form.asp" method="get">
						{% for year in past_five_years %}
					  	<input type="checkbox" id="{{ year }}" name="{{ year }}" value="{{ year }}">{{ year }}<br>
					  	{% endfor %}
					  	<input type="checkbox" id="zero" value="" hidden>
					</form>
					<hr />
					Content type
					<br />
					<br />
					<form action="demo_form.asp" method="get">
						{% for content_type in content_types %}
					  	<input type="checkbox" id="{{ content_type }}" name="{{ content_type }}" value="{{ content_type }}">{{ content_type }}<br>
					  	{% endfor %}
					</form>
					<hr />
			      </div>
			    </div>
	    
	    	</div>
	    	
	    	
	    	<div class="col-md-9">
	    
			      

<table id="example"  class="table table-striped table-bordered" cellspacing="0" width="100%">
 
        <thead>
            <tr style="background:#e6f7dc">
	            <th></th>
	            <th></th>
                <th>Doc Name</th>
                <th>Author</th>
                 <th>Category</th>
                <th>Year of publication</th>
            </tr>
        </thead>
        <tfoot >
            <tr style="background:#e6f7dc">
              	<th></th>
              	<th></th>
                <th>Doc Name</th>
                <th>Author</th>
                <th>Category</th>
                <th>Year of publication</th>
            </tr>
        </tfoot>
      
        <tbody>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
                <td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Tiger Nixon</td>	
                <td>System Architect</td>
                <td>articles</td>
                <td>2016</td>
            </tr>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
                <td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Garrett Winters</td>
                <td>Accountant</td>
                 <td>articles</td>
                <td>2016</td>
            </tr>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Ashton Cox</td>
                <td>Junior Technical Author</td>
                 <td>articles</td>
                 <td>2016</td>
            </tr>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Cedric Kelly</td>
                <td>Senior Javascript Developer</td>
                 <td>articles</td>
                 <td>2016</td>
            </tr>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Airi Satou</td>
                <td>Accountant</td>
                 <td>articles</td>
                 <td>2015</td>
            </tr>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Brielle Williamson</td>
                <td>Integration Specialist</td>
                <td>book</td>
                <td>2012</td>
            </tr>
            <tr>
            	<td class="details-control">abstract</td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Herrod Chandler</td>
                <td>Sales Assistant</td>
                <td>journal</td>
                <td>2015</td>
            </tr>
            <tr>
            	<td class="details-control">abstract</td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Rhona Davidson</td>
                <td>Integration Specialist</td>
                <td>journal</td>
                <td>2015</td>
            </tr>
            <tr>
            	<td class="details-control">abstract</td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Colleen Hurst</td>
                <td>Javascript Developer</td>
                <td>undergradute-project</td>
               <td>2013</td>
            </tr>
            <tr>
            	<td class="details-control">abstract</td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Sonya Frost</td>
                <td>Software Engineer</td>
                <td>gradute-project</td>
                <td>2012</td>
            </tr>
            <tr>
            	<td class="details-control">abstract</td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Jena Gaines</td>
                <td>Office Manager</td>
                <td>conference-preceeding</td>
                <td>2015</td>
            </tr>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Quinn Flynn</td>
                <td>Support Lead</td>
                <td>conference-preceeding</td>
                <td>2014</td>
            </tr>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Charde Marshall</td>
                <td>Regional Director</td>
                <td>conference-preceeding</td>
                <td>2014</td>
            </tr>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Haley Kennedy</td>
                <td>Senior Marketing Designer</td>
                <td>book-chapter</td>
                <td>2015</td>
            </tr>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Tatyana Fitzpatrick</td>
                <td>Regional Director</td>
                <td>book-chapter</td>
               <td>2013</td>
            </tr>
            <tr>
            	<td class="details-control"><a href="#">abstract</a></td>
            	<td><a href="#"><img src="../static/images/adobe.png" width="35" height="35"/></a></td>
                <td>Michael Silva</td>
                <td>Marketing Designer</td>
                <td>dessertation</td>
                <td>2013</td>
            </tr>
           
        </tbody>
    </table>
			      </div>
			    </div>
	    	 </div>

	    </div>
      
      </div>
    </div>
   </div>
{% endblock content %}
